.git/
--HEAD
--config
--description
--hooks/
----applypatch-msg.sample
----commit-msg.sample
----fsmonitor-watchman.sample
----post-update.sample
----pre-applypatch.sample
----pre-commit.sample
----pre-merge-commit.sample
----pre-push.sample
----pre-rebase.sample
----pre-receive.sample
----prepare-commit-msg.sample
----push-to-checkout.sample
----sendemail-validate.sample
----update.sample
--index
--info/
----exclude
--logs/
----HEAD
----refs/
------heads/
--------master
------remotes/
--------origin/
----------HEAD
--objects/
----info/
----pack/
------pack-ea55dcccc444412d34712a877422ff34923bd084.idx
------pack-ea55dcccc444412d34712a877422ff34923bd084.pack
------pack-ea55dcccc444412d34712a877422ff34923bd084.rev
--packed-refs
--refs/
----heads/
------master
----remotes/
------origin/
--------HEAD
----tags/
.gitignore
LICENSE
README.md
electron-builder.json
electron-builder.txt
package-lock.json
package.json
project_content_generator.py
project_structure_generator.py
scripts/
--build.js
--dev-server.js
--private/
----tsc.js
src/
--main/
----electron-utils/
------DataReadMe.ts
----main.ts
----preload.ts
----static/
------.gitkeep
------buttons.ico
------data/
--------DataReadMe.md
--------database.db
------heart.ico
----tsconfig.json
--renderer/
----App.vue
----auto-imports.d.ts
----components/
------HelloWorld.vue
------SideBar.vue
----components.d.ts
----index.html
----main.ts
----public/
------vite.svg
------vue.svg
----router/
------index.ts
----store/
------index.ts
----style.css
----tsconfig.json
----typings/
------electron.d.ts
------shims-vue.d.ts
----views/
------About.vue
------Customer.vue
------DataReadMe.vue
------Home.vue
vite.config.js

----electron-builder.json----
{
    "appId": "com.electron.app",
    "directories": {
      "output": "dist"
    },
    "nsis": {
      "oneClick": false,
      "perMachine": false,
      "allowToChangeInstallationDirectory": true, 
      "shortcutName": "Electron App"
    },
    "win": {
      "target": "nsis",
      "icon": "src/main/static/buttons.ico"
    },
    "linux": {
      "target": ["snap"]
    },
    "files": [
      "build/main/**/*",
      {
        "from": "build/renderer",
        "to": "renderer",
        "filter": ["**/*"]
      },
      {
        "from": "src/main/static",
        "to": "static",
        "filter": ["**/*"]
      },
      "!**/node_modules/*/{CHANGELOG.md,README.md,README,readme.md,readme}",
      "!**/node_modules/*/{test,__tests__,tests,powered-test,example,examples}",
      "!**/node_modules/*.d.ts",
      "!**/node_modules/.bin",
      "!src",
      "!config",
      "!README.md",
      "!scripts",
      "!build/renderer",
      "!dist"
    ]
  }
  
----electron-builder.txt----
appId: åº”ç”¨çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œé€šå¸¸åæ˜ äº†åº”ç”¨çš„åŒ…åã€‚

directories:
  output: æ‰“åŒ…åçš„è¾“å‡ºç›®å½•ã€‚

nsis:
  oneClick: å®‰è£…æ—¶ä¸æ˜¯ä¸€é”®å®‰è£…ï¼Œå³ç”¨æˆ·åœ¨å®‰è£…è¿‡ç¨‹ä¸­æœ‰æ›´å¤šé€‰é¡¹ã€‚
  perMachine: å®‰è£…ä¸æ˜¯é’ˆå¯¹æ‰€æœ‰ç”¨æˆ·ï¼Œå³å®‰è£…æ˜¯é’ˆå¯¹å½“å‰ç”¨æˆ·ã€‚
  allowToChangeInstallationDirectory: å…è®¸ç”¨æˆ·æ›´æ”¹å®‰è£…ç›®å½•ã€‚
  shortcutName: åˆ›å»ºçš„å¿«æ·æ–¹å¼çš„åç§°ã€‚

win:
  target: Windows å¹³å°çš„æ‰“åŒ…ç›®æ ‡æ ¼å¼ï¼Œè¿™é‡Œä½¿ç”¨ NSIS ç³»ç»Ÿã€‚
  icon: åº”ç”¨çš„å›¾æ ‡æ–‡ä»¶è·¯å¾„ã€‚

linux:
  target: Linux å¹³å°çš„æ‰“åŒ…ç›®æ ‡æ ¼å¼ï¼Œè¿™é‡Œä½¿ç”¨ Snap åŒ…æ ¼å¼ã€‚

files:
  è¿™æ˜¯ä¸€ä¸ªæ•°ç»„ï¼ŒæŒ‡å®šäº†è¦åŒ…å«åœ¨æœ€ç»ˆåº”ç”¨ç¨‹åºåŒ…ä¸­çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ã€‚
  å…¶ä¸­å¯ä»¥ä½¿ç”¨ glob æ¨¡å¼ï¼Œä»¥åŠæ’é™¤ç‰¹å®šæ–‡ä»¶çš„æ¨¡å¼ã€‚

ï¼ï¼ï¼ï¼ï¼ï¼æ³¨æ„ï¼ï¼ï¼ï¼ï¼
ä»¥ä¸‹è¿™äº›é…ç½®é¡¹ï¼Œè®©elctron-builderæŠŠbuildæ–‡ä»¶å¤¹å†…çš„æ–‡ä»¶ç»Ÿç»Ÿæ‰“åŒ…åˆ°äº†
æœ€ç»ˆé¡¹ç›®çš„resourceç›®å½•ä¸‹çš„app.asaræ–‡ä»¶å†…ã€‚


  ç¬¬ä¸€ä¸ªå…ƒç´  "build/main/**/*" è¡¨ç¤ºåŒ…å« build/main ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ã€‚    

  ç¬¬äºŒä¸ªå¯¹è±¡ä» "build/renderer" å¤åˆ¶æ–‡ä»¶åˆ° "renderer" ç›®å½•ã€‚

  ç¬¬ä¸‰ä¸ªå¯¹è±¡ä» "src/main/static" å¤åˆ¶æ–‡ä»¶åˆ° "static" ç›®å½•ã€‚

  æ’é™¤æ¨¡å¼ï¼ˆä»¥ "!" å¼€å¤´çš„é¡¹ï¼‰ç”¨äºä»æ‰“åŒ…è¿‡ç¨‹ä¸­æ’é™¤ä¸éœ€è¦çš„æ–‡ä»¶å’Œç›®å½•ã€‚

----LICENSE----
MIT License

Copyright (c) 2021 Deluze

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

----package.json----
{
  "name": "vue_3_electron_boilerplate",
  "version": "0.1.0",
  "description": "A minimal Electron + Vue application",
  "main": "build/main/main.js",
  "scripts": {
    "dev": "node scripts/dev-server.js",
    "build": "node scripts/build.js && electron-builder",
    "build:win": "node scripts/build.js && electron-builder --win",
    "build:mac": "node scripts/build.js && electron-builder --mac",
    "build:linux": "node scripts/build.js && electron-builder --linux"
  },
  "repository": "https://github.com/deluze/electron-vue-template",
  "author": {
    "name": "Deluze",
    "url": "https://github.com/Deluze"
  },
  "devDependencies": {
    "@types/node": "^20.10.4",
    "@vitejs/plugin-vue": "^4.0.0",
    "@vue/runtime-dom": "^3.3.8",
    "chalk": "^4.1.2",
    "chokidar": "^3.5.3",
    "electron": "^25.2.0",
    "electron-builder": "^24.2.1",
    "typescript": "^4.8.4",
    "unplugin-auto-import": "^0.16.7",
    "unplugin-vue-components": "^0.25.2",
    "vite": "^4.1.1"
  },
  "dependencies": {
    "@vueuse/core": "^10.6.0",
    "element-plus": "^2.4.2",
    "pinia": "^2.1.7",
    "sqlite3": "^5.1.6",
    "vue": "^3.3.8",
    "vue-router": "^4.2.5"
  }
}

----project_content_generator.py----
"""
.git å’Œ node_modules æ–‡ä»¶å¤¹ã€‚
buildå’Œdistæ–‡ä»¶å¤¹ã€‚
package-lock.json, .gitignore, 
builder-debug.yml, 
builder-effective-config.yaml, 
latest.yml æ–‡ä»¶ã€‚
åç§°ä¸­åŒ…å« "licenses" çš„æ–‡ä»¶ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰ã€‚

"""

import os

def read_and_combine_files(directory):
    output_filename = os.path.join(directory, "combined_output.txt")
    with open(output_filename, "w", encoding="utf-8") as output_file:
        for root, dirs, files in os.walk(directory):
            # æ’é™¤æŒ‡å®šçš„ç›®å½•
            dirs[:] = [d for d in dirs if d not in ['.git', 'node_modules', 'build', 'dist']]
            for filename in files:
                # æ’é™¤æŒ‡å®šçš„æ–‡ä»¶å’Œæ–‡ä»¶å
                if filename in ["package-lock.json", ".gitignore", "builder-debug.yml", 
                                "builder-effective-config.yaml", "latest.yml"]:
                    continue
                if "licenses" in filename.lower():
                    continue
                file_path = os.path.join(root, filename)
                output_file.write(f"----{filename}----\n")
                try:
                    with open(file_path, "r", encoding="utf-8") as file:
                        content = file.read()
                        output_file.write(content)
                except UnicodeDecodeError:
                    output_file.write(f"{filename} is a non-text file")
                except Exception as e:
                    output_file.write(f"Error reading file: {e}")
                output_file.write("\n\n")

current_directory = os.path.dirname(os.path.realpath(__file__))
read_and_combine_files(current_directory)

----project_structure_generator.py----
import os

def generate_project_structure(dir_path, prefix=''):
    """
    Generate the project structure for the given directory path, excluding 'node_modules', 'build', and 'dist' directories.

    :param dir_path: Directory path to generate the project structure for.
    :param prefix: Prefix used for indenting the structure to represent hierarchy.
    """
    structure = []

    for item in sorted(os.listdir(dir_path)):
        path = os.path.join(dir_path, item)
        if os.path.isdir(path):
            if item in ['node_modules', 'build', 'dist']:
                continue  # Skip specified directories
            structure.append(prefix + item + '/')
            structure.extend(generate_project_structure(path, prefix + '--'))
        else:
            structure.append(prefix + item)

    return structure

def read_and_combine_files(directory):
    combined_content = []
    for root, dirs, files in os.walk(directory):
        dirs[:] = [d for d in dirs if d not in ['.git', 'node_modules', 'build', 'dist']]
        for filename in files:
            if filename in ["package-lock.json", ".gitignore", "builder-debug.yml", 
                            "builder-effective-config.yaml", "latest.yml"]:
                continue
            if "licenses" in filename.lower():
                continue
            file_path = os.path.join(root, filename)
            combined_content.append(f"----{filename}----")
            try:
                with open(file_path, "r", encoding="utf-8") as file:
                    content = file.read()
                    combined_content.append(content)
            except UnicodeDecodeError:
                combined_content.append(f"{filename} is a non-text file")
            except Exception as e:
                combined_content.append(f"Error reading file: {e}")

    return combined_content

def save_to_file(project_structure, combined_content, file_name):
    """
    Save the generated structure and combined file content to a file.

    :param project_structure: List of strings representing the project structure.
    :param combined_content: List of strings representing the combined file content.
    :param file_name: Name of the file to save the content.
    """
    with open(file_name, 'w', encoding='utf-8') as file:
        file.write('\n'.join(project_structure) + '\n\n')
        file.write('\n'.join(combined_content))

# The directory of the script
script_directory = os.path.dirname(os.path.abspath(__file__))

# Generate the project structure
project_structure = generate_project_structure(script_directory)

# Read and combine file contents
combined_content = read_and_combine_files(script_directory)

# Save both the structure and combined content to a file
save_to_file(project_structure, combined_content, os.path.join(script_directory, 'project_structure.txt'))

print("Project structure and file contents saved to 'project_structure.txt'")

----README.md----
<div align="center"> 

# Electron Vue Template
  
<img width="794" alt="image" src="https://user-images.githubusercontent.com/32544586/222748627-ee10c9a6-70d2-4e21-b23f-001dd8ec7238.png">

A simple starter template for a **Vue3** + **Electron** TypeScript based application, including **ViteJS** and **Electron Builder**.
</div>

## About

This template utilizes [ViteJS](https://vitejs.dev) for building and serving your (Vue powered) front-end process, it provides Hot Reloads (HMR) to make development fast and easy âš¡ 

Building the Electron (main) process is done with [Electron Builder](https://www.electron.build/), which makes your application easily distributable and supports cross-platform compilation ğŸ˜

## Getting started

Click the green **Use this template** button on top of the repository, and clone your own newly created repository.

**Or..**

Clone this repository: `git clone git@github.com:Deluze/electron-vue-template.git`


### Install dependencies â¬

```bash
npm install
```

### Start developing âš’ï¸

```bash
npm run dev
```

## Additional Commands

```bash
npm run dev # starts application with hot reload
npm run build # builds application, distributable files can be found in "dist" folder

# OR

npm run build:win # uses windows as build target
npm run build:mac # uses mac as build target
npm run build:linux # uses linux as build target
```

Optional configuration options can be found in the [Electron Builder CLI docs](https://www.electron.build/cli.html).
## Project Structure

```bash
- scripts/ # all the scripts used to build or serve your application, change as you like.
- src/
  - main/ # Main thread (Electron application source)
  - renderer/ # Renderer thread (VueJS application source)
```

## Using static files

If you have any files that you want to copy over to the app directory after installation, you will need to add those files in your `src/main/static` directory.

#### Referencing static files from your main process

```ts
/* Assumes src/main/static/myFile.txt exists */

import {app} from 'electron';
import {join} from 'path';
import {readFileSync} from 'fs';

const path = join(app.getAppPath(), 'static', 'myFile.txt');
const buffer = readFileSync(path);
```

----vite.config.js----
// å¯¼å…¥å„ç§ Vite æ’ä»¶å’Œå·¥å…·
import AutoImport from 'unplugin-auto-import/vite'
import Components from 'unplugin-vue-components/vite'
import { ElementPlusResolver } from 'unplugin-vue-components/resolvers'
import vue from '@vitejs/plugin-vue'
import vuePlugin from '@vitejs/plugin-vue';

const Path = require('path');
const { defineConfig } = require('vite');

// Vite é…ç½®æ–‡æ¡£ï¼šhttps://vitejs.dev/config
const config = defineConfig({
    // è®¾ç½®é¡¹ç›®çš„æ ¹ç›®å½•
    root: Path.join(__dirname, 'src', 'renderer'),
    // æŒ‡å®šé™æ€èµ„æºç›®å½•
    publicDir: 'public',
    // é…ç½®å¼€å‘æœåŠ¡å™¨
    server: {
        port: 8080, // æŒ‡å®šæœåŠ¡å™¨ç«¯å£
    },
    open: false, // æ˜¯å¦åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
    // æ„å»ºé…ç½®
    build: {
        outDir: Path.join(__dirname, 'build', 'renderer'), // æŒ‡å®šè¾“å‡ºç›®å½•
        emptyOutDir: true, // æ„å»ºå‰æ¸…ç©ºè¾“å‡ºç›®å½•
    },
    // æ’ä»¶åˆ—è¡¨
    plugins: [
        vuePlugin(), // Vue æ’ä»¶
        AutoImport({ // è‡ªåŠ¨å¯¼å…¥æ’ä»¶
          resolvers: [ElementPlusResolver()],
        }),
        Components({ // Vue ç»„ä»¶æ’ä»¶
          resolvers: [ElementPlusResolver()],
        }),
    ],
});

module.exports = config;

----build.js----
//build.js è´Ÿè´£æ„å»ºæ•´ä¸ª Electron åº”ç”¨ç¨‹åºï¼ŒåŒ…æ‹¬æ¸²æŸ“å™¨å’Œä¸»è¿›ç¨‹ã€‚å®ƒä½¿ç”¨ Vite æ¥æ„å»ºæ¸²æŸ“å™¨è¿›ç¨‹ï¼Œå¹¶ä½¿ç”¨è‡ªå®šä¹‰çš„ TypeScript ç¼–è¯‘è„šæœ¬æ¥ç¼–è¯‘ä¸»è¿›ç¨‹ã€‚
//å®ƒå’Œtsc.jså…±åŒç¡®ä¿äº†æ‚¨çš„åº”ç”¨ç¨‹åºå¯ä»¥ä»æºä»£ç æ­£ç¡®åœ°ç¼–è¯‘å’Œæ„å»ºï¼Œä¸ºåç»­çš„æ‰“åŒ…å’Œå‘å¸ƒåšå¥½å‡†å¤‡ã€‚


// å¯¼å…¥ Node.js çš„ path æ¨¡å—ï¼Œç”¨äºå¤„ç†æ–‡ä»¶è·¯å¾„
const Path = require('path');

// å¯¼å…¥ chalk æ¨¡å—ï¼Œç”¨äºåœ¨æ§åˆ¶å°è¾“å‡ºå½©è‰²æ–‡æœ¬
const Chalk = require('chalk');

// å¯¼å…¥ Node.js çš„ fs æ¨¡å—ï¼Œç”¨äºæ–‡ä»¶ç³»ç»Ÿæ“ä½œ
const FileSystem = require('fs');

// å¯¼å…¥ Vite æ¨¡å—ï¼Œä¸€ä¸ªç°ä»£å‰ç«¯æ„å»ºå·¥å…·
const Vite = require('vite');

// å¯¼å…¥è‡ªå®šä¹‰çš„ TypeScript ç¼–è¯‘æ¨¡å—
const compileTs = require('./private/tsc');

// å®šä¹‰ä¸€ä¸ªå‡½æ•°æ¥æ„å»ºæ¸²æŸ“å™¨è¿›ç¨‹ï¼Œä½¿ç”¨ Vite å¹¶æŒ‡å®šé…ç½®æ–‡ä»¶å’Œè¿è¡Œæ¨¡å¼
function buildRenderer() {
    return Vite.build({
        configFile: Path.join(__dirname, '..', 'vite.config.js'),
        base: './',
        mode: 'production'
    });
}

// å®šä¹‰ä¸€ä¸ªå‡½æ•°æ¥æ„å»ºä¸»è¿›ç¨‹ï¼Œç¼–è¯‘ä½äºç‰¹å®šè·¯å¾„çš„ TypeScript ä»£ç 
function buildMain() {
    const mainPath = Path.join(__dirname, '..', 'src', 'main');
    return compileTs(mainPath);
}

// åˆ é™¤ build ç›®å½•åŠå…¶å†…å®¹ï¼Œä»¥å‡†å¤‡æ–°çš„æ„å»º
FileSystem.rmSync(Path.join(__dirname, '..', 'build'), {
    recursive: true,
    force: true,
})

// åœ¨æ§åˆ¶å°è¾“å‡ºè“è‰²çš„æç¤ºä¿¡æ¯ï¼Œè¡¨ç¤ºå¼€å§‹è½¬è¯‘æ¸²æŸ“å™¨å’Œä¸»è¿›ç¨‹
console.log(Chalk.blueBright('Transpiling renderer & main...'));

// å¹¶è¡Œæ‰§è¡Œæ¸²æŸ“å™¨å’Œä¸»è¿›ç¨‹çš„æ„å»ºä»»åŠ¡ï¼Œå®Œæˆåè¾“å‡ºç»¿è‰²çš„æˆåŠŸä¿¡æ¯
Promise.allSettled([
    buildRenderer(),
    buildMain(),
]).then(() => {
    console.log(Chalk.greenBright('Renderer & main successfully transpiled! (ready to be built with electron-builder)'));
});

----dev-server.js----
//è¿™ä¸ªè„šæœ¬ç”¨äºå¯åŠ¨å’Œç®¡ç†æ‚¨çš„ Electron åº”ç”¨ç¨‹åºçš„å¼€å‘æœåŠ¡å™¨ã€‚å®ƒé€šè¿‡ Vite å¯åŠ¨æ¸²æŸ“å™¨ï¼Œå¹¶ä½¿ç”¨ Electron æ¥å¯åŠ¨ä¸»è¿›ç¨‹ã€‚è„šæœ¬è¿˜åŒ…æ‹¬ç›‘å¬æ–‡ä»¶å˜åŒ–å¹¶é‡å¯ Electron è¿›ç¨‹çš„é€»è¾‘ï¼Œä»¥ä¾¿åœ¨å¼€å‘è¿‡ç¨‹ä¸­å®ç°çƒ­é‡è½½ã€‚


// è®¾ç½®ç¯å¢ƒå˜é‡ä¸ºå¼€å‘æ¨¡å¼
process.env.NODE_ENV = 'development';

// å¼•å…¥æ‰€éœ€æ¨¡å—
const Vite = require('vite');
const ChildProcess = require('child_process');
const Path = require('path');
const Chalk = require('chalk');
const Chokidar = require('chokidar');
const Electron = require('electron');
const compileTs = require('./private/tsc');
const FileSystem = require('fs');
const { EOL } = require('os');

// åˆå§‹åŒ–ä¸€äº›å˜é‡
let viteServer = null;
let electronProcess = null;
let electronProcessLocker = false;
let rendererPort = 0;

// å®šä¹‰å¯åŠ¨æ¸²æŸ“å™¨çš„å¼‚æ­¥å‡½æ•°
async function startRenderer() {
    viteServer = await Vite.createServer({
        configFile: Path.join(__dirname, '..', 'vite.config.js'),
        mode: 'development',
    });
    return viteServer.listen();
}

// å®šä¹‰å¯åŠ¨ Electron çš„å¼‚æ­¥å‡½æ•°
async function startElectron() {
    // æ£€æŸ¥æ˜¯å¦å·²ç»å¯åŠ¨ Electron è¿›ç¨‹ï¼Œé¿å…é‡å¤å¯åŠ¨
    if (electronProcess) {
        return; // å¦‚æœå·²ç»å¯åŠ¨ï¼Œç›´æ¥è¿”å›
    }
    
    try {
        // ç¼–è¯‘ TypeScript ä»£ç ï¼Œå¦‚æœå‡ºé”™åˆ™æ•è·å¼‚å¸¸
        await compileTs(Path.join(__dirname, '..', 'src', 'main'));
    } catch {
        // å¦‚æœç¼–è¯‘å‡ºé”™ï¼Œè¾“å‡ºé”™è¯¯ä¿¡æ¯ï¼Œç„¶åè®¾ç½®æ ‡å¿—
        console.log(Chalk.redBright('æ— æ³•å¯åŠ¨ Electronï¼Œå› ä¸ºå­˜åœ¨ TypeScript é”™è¯¯ã€‚'));
        electronProcessLocker = false;
        return;
    }
    
    // æ„å»ºå¯åŠ¨ Electron è¿›ç¨‹æ‰€éœ€çš„å‚æ•°æ•°ç»„
    const args = [Path.join(__dirname, '..', 'build', 'main', 'main.js'), rendererPort];
    
    // ä½¿ç”¨ ChildProcess.spawn æ–¹æ³•å¯åŠ¨ Electron ä¸»è¿›ç¨‹ï¼Œæ³¨æ„æ–¹æ³•åå­—è™½ç„¶æ˜¯å­è¿›ç¨‹ï¼Œä½†æ˜¯å®é™…å¯åŠ¨çš„æ˜¯electronä¸»è¿›ç¨‹
    electronProcess = ChildProcess.spawn(Electron, args);
    
    // è®¾ç½®æ ‡å¿—ï¼Œè¡¨ç¤º Electron è¿›ç¨‹å·²å¯åŠ¨
    electronProcessLocker = false;

    // é…ç½® Electron ä¸»è¿›ç¨‹çš„è¾“å‡º
    electronProcess.stdout.on('data', data => {
        if (data == EOL) {
            return; // å¿½ç•¥ç©ºæ•°æ®
        }
        // å°† Electron ä¸»è¿›ç¨‹çš„æ ‡å‡†è¾“å‡ºå†™å…¥æ ‡å‡†è¾“å‡ºæµï¼Œå¹¶æ·»åŠ æ ‡è¯†
        process.stdout.write(Chalk.blueBright(`[electron] `) + Chalk.white(data.toString()))
    });

    electronProcess.stderr.on('data', data => {
        // å°† Electron ä¸»è¿›ç¨‹çš„æ ‡å‡†é”™è¯¯å†™å…¥æ ‡å‡†é”™è¯¯æµï¼Œå¹¶æ·»åŠ æ ‡è¯†
        process.stderr.write(Chalk.blueBright(`[electron] `) + Chalk.white(data.toString()))
    });

    // ç›‘å¬ Electron ä¸»è¿›ç¨‹çš„é€€å‡ºäº‹ä»¶ï¼Œç„¶åè°ƒç”¨ stop å‡½æ•°
    electronProcess.on('exit', () => stop());

}


// é‡å¯ Electron è¿›ç¨‹çš„å‡½æ•°
function restartElectron() {
    if (electronProcess) {
        electronProcess.removeAllListeners('exit');
        electronProcess.kill();
        electronProcess = null;
    }
    if (!electronProcessLocker) {
        electronProcessLocker = true;
        startElectron();
    }
}



// å¤åˆ¶æ–‡ä»¶çš„è¾…åŠ©å‡½æ•°
/*
Electronçš„å·¥ä½œç›®å½•æ˜¯build/mainï¼Œè€Œä¸æ˜¯src/mainï¼Œè¿™æ˜¯å› ä¸ºä½¿ç”¨äº†TypeScriptã€‚
tscä¸ä¼šå¤åˆ¶é™æ€æ–‡ä»¶ï¼Œå› æ­¤éœ€è¦æ‰‹åŠ¨å°†å®ƒä»¬å¤åˆ¶åˆ°å¼€å‘æœåŠ¡å™¨ä¸­ã€‚
*/
function copy(path) {
    FileSystem.cpSync(
        Path.join(__dirname, '..', 'src', 'main', path),
        Path.join(__dirname, '..', 'build', 'main', path),
        { recursive: true }
    );
}


// å¤åˆ¶é™æ€æ–‡ä»¶åˆ°æ„å»ºç›®å½•
function copyStaticFiles() {
    copy('static');
}



// åœæ­¢æœåŠ¡å’Œé€€å‡ºç¨‹åºçš„å‡½æ•°
function stop() {
    viteServer.close();
    process.exit();
}

// ä¸»å‡½æ•°ï¼Œç”¨äºå¯åŠ¨æ•´ä¸ªå¼€å‘æœåŠ¡å™¨
async function start() {
    // è¾“å‡ºå¯åŠ¨ä¿¡æ¯
    console.log(`${Chalk.greenBright('=======================================')}`);
    console.log(`${Chalk.greenBright('Starting Electron + Vite Dev Server...')}`);
    console.log(`${Chalk.greenBright('=======================================')}`);

    // å¯åŠ¨æ¸²æŸ“å™¨å¼€å‘æœåŠ¡å™¨ï¼Œè·å–å…¶é…ç½®ä¸­çš„ç«¯å£å·
    const devServer = await startRenderer();
    rendererPort = devServer.config.server.port;

    // å¤åˆ¶é™æ€æ–‡ä»¶åˆ°æ„å»ºç›®å½•
    copyStaticFiles();

    // å¯åŠ¨ Electron ä¸»è¿›ç¨‹
    startElectron();

    // ç›‘å¬æ–‡ä»¶å˜åŠ¨ï¼Œç”¨äºé‡å¯ Electron è¿›ç¨‹
    const path = Path.join(__dirname, '..', 'src', 'main');

    // ä½¿ç”¨ Chokidar æ¨¡å—åˆ›å»ºæ–‡ä»¶å˜åŠ¨çš„ç›‘å¬å™¨ï¼Œç›‘è§†æŒ‡å®šç›®å½•ä¸­çš„æ–‡ä»¶å˜åŠ¨
    Chokidar.watch(path, { cwd: path }).on('change', (changedFilePath) => {
        // æ‰“å°æ–‡ä»¶å˜åŠ¨ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ–‡ä»¶è·¯å¾„å’Œæç¤ºæ¶ˆæ¯
        console.log(Chalk.blueBright(`[electron] `) + `æ–‡ä»¶ ${changedFilePath} å‘ç”Ÿå˜åŠ¨ï¼Œæ­£åœ¨é‡è½½... ğŸš€`);

        // æ£€æŸ¥å˜åŠ¨çš„æ–‡ä»¶æ˜¯å¦ä½äºé™æ€æ–‡ä»¶ç›®å½•
        if (changedFilePath.startsWith(Path.join('static', '/'))) {
            // å¦‚æœæ˜¯é™æ€æ–‡ä»¶ç›®å½•ä¸­çš„æ–‡ä»¶å˜åŠ¨ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

            // å¤åˆ¶å˜åŠ¨çš„æ–‡ä»¶åˆ°æ„å»ºç›®å½•ï¼Œä»¥ç¡®ä¿æœ€æ–°çš„é™æ€æ–‡ä»¶è¢«æ›´æ–°åˆ°æ„å»ºç›®å½•
            copy(changedFilePath);
        }

        // é‡å¯ Electron è¿›ç¨‹ï¼Œä»¥åº”ç”¨æœ€æ–°çš„ä»£ç å’Œèµ„æºå˜åŠ¨
        restartElectron();
    });
}

// è°ƒç”¨ä¸»å‡½æ•°å¯åŠ¨å¼€å‘æœåŠ¡å™¨
start();




----tsc.js----
// å¼•å…¥ Node.js çš„ child_process æ¨¡å—ï¼Œç”¨äºåˆ›å»ºå­è¿›ç¨‹
const ChildProcess = require('child_process');

// å¼•å…¥ chalk æ¨¡å—ï¼Œç”¨äºåœ¨æ§åˆ¶å°è¾“å‡ºå½©è‰²æ–‡æœ¬
const Chalk = require('chalk');

// å®šä¹‰ä¸€ä¸ªç¼–è¯‘å‡½æ•°ï¼Œç”¨äºç¼–è¯‘ TypeScript ä»£ç 
function compile(directory) {
  // è¿”å›ä¸€ä¸ªæ–°çš„ Promise å¯¹è±¡
  return new Promise((resolve, reject) => {
    // åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹æ¥æ‰§è¡Œ tsc å‘½ä»¤
    const tscProcess = ChildProcess.exec('tsc', {
      cwd: directory, // è®¾ç½®å½“å‰å·¥ä½œç›®å½•ä¸ºä¼ å…¥çš„ directory
    });

    // å½“å­è¿›ç¨‹æœ‰æ ‡å‡†è¾“å‡ºæ—¶ï¼Œå°†è¾“å‡ºçš„æ•°æ®å†™å…¥åˆ°ä¸»è¿›ç¨‹çš„æ ‡å‡†è¾“å‡º
    tscProcess.stdout.on('data', data => 
        process.stdout.write(Chalk.yellowBright(`[tsc] `) + Chalk.white(data.toString()))
    );

    // å½“å­è¿›ç¨‹é€€å‡ºæ—¶ï¼Œæ ¹æ®é€€å‡ºä»£ç æ¥å†³å®šæ˜¯è§£å†³è¿˜æ˜¯æ‹’ç» Promise
    tscProcess.on('exit', exitCode => {
      if (exitCode > 0) {
        reject(exitCode); // å¦‚æœé€€å‡ºä»£ç å¤§äº 0ï¼Œæ‹’ç» Promise
      } else {
        resolve(); // å¦åˆ™è§£å†³ Promise
      }
    });
  });
}

// å¯¼å‡º compile å‡½æ•°
module.exports = compile;


/*å°† tsc.js æ”¾åœ¨ä¸€ä¸ªåä¸º private çš„æ–‡ä»¶å¤¹ä¸­ï¼Œè€Œä¸æ˜¯ä¸ dev-server.js å’Œ build.js æ”¾åœ¨åŒä¸€ä¸ª scripts æ–‡ä»¶å¤¹ä¸­ï¼Œå¯èƒ½æœ‰å‡ ä¸ªåŸå› ï¼š

æ¨¡å—åŒ–å’Œç»„ç»‡ç»“æ„ï¼šä½œè€…å¯èƒ½æƒ³è¦ä¿æŒé¡¹ç›®çš„ç»“æ„æ¸…æ™°å’Œæ¨¡å—åŒ–ã€‚å°†ç‰¹å®šåŠŸèƒ½çš„è„šæœ¬æ”¾åœ¨ä¸åŒçš„ç›®å½•ä¸­å¯ä»¥å¸®åŠ©ç»´æŠ¤ä»£ç çš„æ¸…æ™°åº¦å’Œå¯ç®¡ç†æ€§ã€‚ä¾‹å¦‚ï¼Œprivate æ–‡ä»¶å¤¹å¯èƒ½ç”¨äºå­˜æ”¾é‚£äº›ä¸æ‰“ç®—è¢«å¤–éƒ¨ç›´æ¥è°ƒç”¨çš„è¾…åŠ©æ¨¡å—ã€‚

é‡ç”¨å’Œå°è£…ï¼štsc.js å¯èƒ½è¢«è®¾è®¡ä¸ºä¸€ä¸ªæ›´é€šç”¨çš„ TypeScript ç¼–è¯‘å·¥å…·ï¼Œå¯ä»¥åœ¨å¤šä¸ªé¡¹ç›®ä¸­é‡ç”¨ï¼Œè€Œä¸ä»…ä»…æ˜¯åœ¨å½“å‰é¡¹ç›®ä¸­ã€‚é€šè¿‡å°†å…¶æ”¾åœ¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶å¤¹ä¸­ï¼Œä½œè€…å¯ä»¥æ›´å®¹æ˜“åœ°ç»´æŠ¤å’Œæ›´æ–°è¿™ä¸ªè„šæœ¬ï¼Œè€Œä¸ä¼šå½±å“åˆ°å…¶ä»–è„šæœ¬ã€‚

éšè—å®ç°ç»†èŠ‚ï¼šå°† tsc.js æ”¾åœ¨ private æ–‡ä»¶å¤¹ä¸­å¯èƒ½æ˜¯ä¸ºäº†éšè—å…¶å®ç°ç»†èŠ‚ï¼Œä½¿å¾—é¡¹ç›®çš„å…¶ä»–éƒ¨åˆ†ä¸éœ€è¦å…³å¿ƒ TypeScript ç¼–è¯‘çš„å…·ä½“æ–¹å¼ã€‚è¿™æ ·ä¸€æ¥ï¼Œdev-server.js å’Œ build.js å¯ä»¥ä½œä¸ºæ›´é«˜å±‚æ¬¡çš„è„šæœ¬æ¥è¿è¡Œï¼Œè€Œä¸ç”¨å…³å¿ƒåº•å±‚çš„ç¼–è¯‘ç»†èŠ‚ã€‚

å®‰å…¨æˆ–ç­–ç•¥è€ƒè™‘ï¼šåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œç‰¹å®šçš„è„šæœ¬æˆ–ä»£ç å¯èƒ½éœ€è¦è¢«æ”¾åœ¨å•ç‹¬çš„ç›®å½•ä¸­ä»¥æ»¡è¶³å®‰å…¨æˆ–é¡¹ç›®ç­–ç•¥çš„è¦æ±‚ã€‚è¿™å¯ä»¥é˜²æ­¢ä¸å°å¿ƒä¿®æ”¹æˆ–åˆ é™¤é‡è¦çš„è¾…åŠ©è„šæœ¬ã€‚

æ¯ä¸ªé¡¹ç›®çš„ç»„ç»‡ç»“æ„éƒ½æœ‰å…¶ç‰¹å®šçš„é€»è¾‘å’ŒåŸå› ï¼Œè¿™äº›åŸå› å¯èƒ½å› é¡¹ç›®ã€å›¢é˜Ÿä¹ æƒ¯æˆ–ä¸ªäººåå¥½è€Œå¼‚ã€‚ */
----main.ts----
import { app, BrowserWindow, ipcMain } from 'electron';
import path from 'path';
import { initDataReadMeModule } from './electron-utils/DataReadMe';

// è®¾ç½®çª—å£å›¾æ ‡è·¯å¾„
const iconPath = process.env.NODE_ENV === 'development'
  ? path.join(__dirname, 'static', 'buttons.ico')
  : path.join(app.getAppPath(), 'static', 'buttons.ico');


// åˆ›å»ºæµè§ˆå™¨çª—å£çš„å‡½æ•°
function createWindow() {
  const mainWindow = new BrowserWindow({
    icon: iconPath, // è®¾ç½®çª—å£å›¾æ ‡
    webPreferences: {
      preload: path.join(__dirname, 'preload.js'),
      nodeIntegration: false,
      contextIsolation: true,
    },
  });

  mainWindow.maximize(); // æ‰“å¼€çª—å£é»˜è®¤æœ€å¤§åŒ–
  mainWindow.setMenu(null); // ç§»é™¤èœå•æ 

  // åœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼ŒåŠ è½½å¼€å‘æœåŠ¡å™¨çš„URL
  if (process.env.NODE_ENV === 'development') {
    const rendererPort = process.argv[2];
    mainWindow.loadURL(`http://localhost:${rendererPort}`);
  } else {
    // åœ¨ç”Ÿäº§æ¨¡å¼ä¸‹ï¼ŒåŠ è½½ç¼–è¯‘åçš„HTMLæ–‡ä»¶
    mainWindow.loadFile(path.join(app.getAppPath(), 'renderer', 'index.html'));
  }
}



// å½“Electronåº”ç”¨å‡†å¤‡å°±ç»ªåæ‰§è¡Œ
app.whenReady().then(() => {
  createWindow(); // åˆ›å»ºçª—å£
  initDataReadMeModule(); // åˆå§‹åŒ– DataReadMe æ¨¡å—
});



// å½“æ‰€æœ‰çª—å£å…³é—­æ—¶é€€å‡ºåº”ç”¨ï¼ˆMacOSé™¤å¤–ï¼‰
app.on('window-all-closed', function () {
  if (process.platform !== 'darwin') app.quit();
});


----preload.ts----
// å¼•å…¥ Electron çš„ contextBridge å’Œ ipcRenderer æ¨¡å—
import {contextBridge, ipcRenderer} from 'electron';

// é€šè¿‡ contextBridge åœ¨æ¸²æŸ“å™¨çš„å…¨å±€ä½œç”¨åŸŸä¸­æš´éœ²ä¸€ä¸ª electronAPI å¯¹è±¡
contextBridge.exposeInMainWorld('electronAPI', {
  // æä¾› sendMessage æ–¹æ³•ï¼Œå…è®¸æ¸²æŸ“å™¨è¿›ç¨‹é€šè¿‡ ipcRenderer å‘ä¸»è¿›ç¨‹å‘é€æ¶ˆæ¯
  sendMessage: (message: string) => ipcRenderer.send('message', message)
})

// å†æ¬¡ä½¿ç”¨ contextBridge æš´éœ²ä¸€ä¸ª electron å¯¹è±¡
contextBridge.exposeInMainWorld('electron', {
  // æä¾› send æ–¹æ³•ï¼Œç”¨äºä»æ¸²æŸ“å™¨è¿›ç¨‹å‘é€ IPC æ¶ˆæ¯
  send: ipcRenderer.send,
  // æä¾› on æ–¹æ³•ï¼Œç”¨äºç›‘å¬ä¸»è¿›ç¨‹å‘é€çš„ IPC æ¶ˆæ¯
  on: (channel, func) => {
    ipcRenderer.on(channel, (event, ...args) => func(...args));
  }
});

----tsconfig.json----
/*è¿™ä¸ªé…ç½®æ–‡ä»¶ä¸»è¦ç”¨äºæ§åˆ¶ TypeScript ç¼–è¯‘å™¨çš„è¡Œä¸ºï¼ŒåŒ…æ‹¬ç¼–è¯‘è¾“å‡ºçš„ JavaScript ä»£ç çš„ç‰ˆæœ¬ã€æ¨¡å—ç³»ç»Ÿã€ä¸¥æ ¼æ¨¡å¼ç­‰ã€‚å®ƒè¿˜å®šä¹‰äº†å“ªäº›æ–‡ä»¶æˆ–ç›®å½•åº”è¯¥è¢«ç¼–è¯‘å™¨å¿½ç•¥ã€‚*/



{
  "compilerOptions": {
    "target": "ES2015", // æŒ‡å®š ECMAScript ç›®æ ‡ç‰ˆæœ¬
    "module": "commonjs", // ä½¿ç”¨ commonjs æ¨¡å—ç³»ç»Ÿ
    "strict": true, // å¯ç”¨æ‰€æœ‰ä¸¥æ ¼ç±»å‹æ£€æŸ¥é€‰é¡¹
    "esModuleInterop": true, // å…è®¸å¯¼å…¥é ES æ¨¡å—
    "skipLibCheck": true, // è·³è¿‡åº“æ–‡ä»¶çš„ç±»å‹æ£€æŸ¥
    "forceConsistentCasingInFileNames": true, // å¼ºåˆ¶æ–‡ä»¶åå¤§å°å†™ä¸€è‡´
    "outDir": "../../build/main", // æŒ‡å®šè¾“å‡ºç›®å½•
    "allowJs": true, // å…è®¸ç¼–è¯‘ JavaScript æ–‡ä»¶
    "noImplicitAny": false, // å…è®¸éšå¼ any ç±»å‹
  },
  "exclude": ["static"] // æ’é™¤ static ç›®å½•
}

----DataReadMe.ts----
import { ipcMain, app } from 'electron';
import fs from 'fs';
import path from 'path';

// å¤åˆ¶æ–‡ä»¶å¹¶åœ¨æ–‡ä»¶å¼€å¤´æ·»åŠ è·¯å¾„ä¿¡æ¯çš„å‡½æ•°
function copyFileWithHeader(src: string, dest: string) {
  fs.copyFileSync(src, dest);
  const header = `æœ¬æ–‡ä»¶ä½äºï¼š${dest}\n`;
  const content = fs.readFileSync(dest, 'utf8');
  fs.writeFileSync(dest, header + content, 'utf8');
}

// è®¾ç½®æ–‡ä»¶ç¯å¢ƒçš„å‡½æ•°
function setupFileEnvironment() {
  if (process.env.NODE_ENV !== 'development') {
    const userDataPath = app.getPath('userData');
    const destFilePath = path.join(userDataPath, 'DataReadMe.md');
    // è¿™é‡Œçš„è·¯å¾„æ˜¯æ­£ç¡®çš„ï¼Œå®ƒç›´æ¥ä½¿ç”¨ app.getAppPath() æŒ‡å‘é¡¹ç›®æ ¹ç›®å½•
    const srcFilePath = path.join(app.getAppPath(), 'static', 'data', 'DataReadMe.md');

    if (!fs.existsSync(destFilePath)) {
      copyFileWithHeader(srcFilePath, destFilePath);
    }
  }
}

// å¤„ç†è¯»å–æ–‡ä»¶è¯·æ±‚çš„å‡½æ•°
function handleReadFileRequest(event) {
  const userDataPath = app.getPath('userData');
  // åœ¨å¼€å‘ç¯å¢ƒä¸­ï¼Œéœ€è¦æ·»åŠ  '..' æ¥ä» electron-utils æ–‡ä»¶å¤¹è¿”å›åˆ°é¡¹ç›®æ ¹ç›®å½•
  const filePath = process.env.NODE_ENV === 'development'
    ? path.join(__dirname, '..', 'static', 'data', 'DataReadMe.md') 
    : path.join(userDataPath, 'DataReadMe.md');

  const data = fs.readFileSync(filePath, 'utf8');
  event.reply('file-content', data);
}

// å¤„ç†å†™å…¥æ–‡ä»¶è¯·æ±‚çš„å‡½æ•°
function handleWriteFileRequest(event, updatedContent) {
  const userDataPath = app.getPath('userData');
  // åœ¨å¼€å‘ç¯å¢ƒä¸­ï¼Œéœ€è¦æ·»åŠ  '..' æ¥ä» electron-utils æ–‡ä»¶å¤¹è¿”å›åˆ°é¡¹ç›®æ ¹ç›®å½•
  const filePath = process.env.NODE_ENV === 'development'
    ? path.join(__dirname, '..', 'static', 'data', 'DataReadMe.md') 
    : path.join(userDataPath, 'DataReadMe.md');

  fs.writeFileSync(filePath, updatedContent, 'utf8');
}

// åˆå§‹åŒ– DataReadMe æ¨¡å—çš„å‡½æ•°
export function initDataReadMeModule() {
  setupFileEnvironment();
  
  ipcMain.on('read-file', handleReadFileRequest);
  ipcMain.on('write-file', handleWriteFileRequest);
}

----.gitkeep----

----buttons.ico----
buttons.ico is a non-text file
----heart.ico----
heart.ico is a non-text file
----database.db----

----DataReadMe.md----
# Data ReadMe

new new
----App.vue----
<script setup lang="ts">
import { ElConfigProvider } from 'element-plus'
import SideBar from './components/SideBar.vue';

const zIndex = 3000
const size = 'small' as 'small'
</script>

<template>
  <div>
  <el-config-provider :size="size" :z-index="zIndex">
  <div class="common-layout">
    <el-container>
      <el-aside width="200px">
      <SideBar/>
      </el-aside>
        <el-main><router-view/></el-main>
    </el-container>
  </div>
  </el-config-provider>
</div>
</template>

<style scoped>
.el-main {
  --el-main-padding: 0px;
}

</style>

----auto-imports.d.ts----
/* eslint-disable */
/* prettier-ignore */
// @ts-nocheck
// noinspection JSUnusedGlobalSymbols
// Generated by unplugin-auto-import
export {}
declare global {

}

----components.d.ts----
/* eslint-disable */
/* prettier-ignore */
// @ts-nocheck
// Generated by unplugin-vue-components
// Read more: https://github.com/vuejs/core/pull/3399
export {}

declare module 'vue' {
  export interface GlobalComponents {
    ElAside: typeof import('element-plus/es')['ElAside']
    ElButton: typeof import('element-plus/es')['ElButton']
    ElCard: typeof import('element-plus/es')['ElCard']
    ElCol: typeof import('element-plus/es')['ElCol']
    ElContainer: typeof import('element-plus/es')['ElContainer']
    ElDivider: typeof import('element-plus/es')['ElDivider']
    ElHeader: typeof import('element-plus/es')['ElHeader']
    ElIcon: typeof import('element-plus/es')['ElIcon']
    ElMain: typeof import('element-plus/es')['ElMain']
    ElMenu: typeof import('element-plus/es')['ElMenu']
    ElMenuItem: typeof import('element-plus/es')['ElMenuItem']
    ElRow: typeof import('element-plus/es')['ElRow']
    ElSpace: typeof import('element-plus/es')['ElSpace']
    RouterLink: typeof import('vue-router')['RouterLink']
    RouterView: typeof import('vue-router')['RouterView']
  }
  export interface ComponentCustomProperties {
    vInfiniteScroll: typeof import('element-plus/es')['ElInfiniteScroll']
  }
}

----index.html----
<!DOCTYPE html>
<html lang="en" class="dark">
  <head>
    <meta charset="utf-8">
    <title>è€ä½•äº”é‡‘å‚</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="./main.ts"></script>
  </body>
</html>

----main.ts----
// å¯¼å…¥ Vue å‡½æ•°
import { createApp } from 'vue'
// å¯¼å…¥ App ç»„ä»¶
import App from './App.vue'
// å¯¼å…¥ Pinia çŠ¶æ€ç®¡ç†åº“
import { createPinia } from 'pinia'
// å¯¼å…¥ Vue è·¯ç”±
import router from './router'

// å¯¼å…¥æ ·å¼æ–‡ä»¶
import './style.css';
// å¯¼å…¥ Element Plus çš„æš—è‰²ä¸»é¢˜æ ·å¼
import 'element-plus/theme-chalk/dark/css-vars.css'

// åˆ›å»º Vue åº”ç”¨å®ä¾‹
const app = createApp(App);
// åˆ›å»º Pinia å®ä¾‹
const pinia = createPinia()
// ä½¿ç”¨ Pinia å’Œ Vue è·¯ç”±
app.use(pinia)
app.use(router)
// å°† Vue åº”ç”¨æŒ‚è½½åˆ° DOM å…ƒç´ ä¸Š
app.mount('#app');

----style.css----
html, body {
    margin: 0;
    padding: 0;
    height: 100%; /* ç¡®ä¿å æ»¡æ•´ä¸ªè§†å£é«˜åº¦ */
    user-select: none; /* ç¦æ­¢æ–‡æœ¬è¢«é€‰ä¸­ */
  }
  
----tsconfig.json----
{
  "compilerOptions": {
    "target": "esnext", // æŒ‡å®š ECMAScript ç›®æ ‡ç‰ˆæœ¬ä¸ºæœ€æ–°
    "useDefineForClassFields": true, // ä½¿ç”¨å®šä¹‰ç±»å­—æ®µçš„æ–¹å¼
    "module": "esnext", // ä½¿ç”¨æœ€æ–°çš„ ES æ¨¡å—ç³»ç»Ÿ
    "moduleResolution": "node", // ä½¿ç”¨ Node.js é£æ ¼çš„æ¨¡å—è§£æ
    "strict": true, // å¯ç”¨æ‰€æœ‰ä¸¥æ ¼ç±»å‹æ£€æŸ¥é€‰é¡¹
    "jsx": "preserve", // JSX ä»£ç ä¿æŒåŸæ ·ï¼Œç”±å…¶ä»–å·¥å…·å¤„ç†
    "sourceMap": true, // ç”Ÿæˆæºä»£ç æ˜ å°„ï¼Œæ–¹ä¾¿è°ƒè¯•
    "resolveJsonModule": true, // å…è®¸å¯¼å…¥ JSON æ¨¡å—
    "esModuleInterop": true, // å…è®¸é»˜è®¤å¯¼å…¥é ES æ¨¡å—
    "lib": ["esnext", "dom"], // æŒ‡å®šç¼–è¯‘æ—¶åŒ…å«çš„åº“æ–‡ä»¶
    "types": ["vite/client"], // åŒ…å«çš„ç±»å‹å£°æ˜æ–‡ä»¶
  },
  "include": [
    // æŒ‡å®šç¼–è¯‘å™¨è¦åŒ…å«çš„æ–‡ä»¶
    "./**/*.ts",
    "./**/*.d.ts",
    "./**/*.tsx",
    "./**/*.vue"
  ],
  "exclude": [
    "node_modules" // æ’é™¤çš„æ–‡ä»¶æˆ–ç›®å½•
  ]
}


//è¿™ä¸ª tsconfig.json æ–‡ä»¶æ˜¯ TypeScript çš„é…ç½®æ–‡ä»¶ï¼Œç”¨äºæŒ‡å®šå¦‚ä½•ç¼–è¯‘ TypeScript ä»£ç ï¼Œç‰¹åˆ«æ˜¯é’ˆå¯¹ Vue åº”ç”¨çš„æ¸²æŸ“å™¨éƒ¨åˆ†ã€‚
//è¿™ä¸ªé…ç½®æ–‡ä»¶ä¸»è¦ç”¨äºæ§åˆ¶ TypeScript ç¼–è¯‘å™¨å¦‚ä½•å¤„ç† Vue åº”ç”¨ä¸­çš„æ¸²æŸ“å™¨éƒ¨åˆ†çš„ä»£ç ï¼ŒåŒ…æ‹¬ç¼–è¯‘è¾“å‡ºçš„ JavaScript ä»£ç çš„ç‰ˆæœ¬ã€æ¨¡å—ç³»ç»Ÿã€ä¸¥æ ¼æ¨¡å¼ç­‰ã€‚å®ƒè¿˜å®šä¹‰äº†å“ªäº›æ–‡ä»¶æˆ–ç›®å½•åº”è¯¥è¢«ç¼–è¯‘å™¨åŒ…å«æˆ–æ’é™¤ã€‚
----HelloWorld.vue----
<script setup lang="ts">
import { ref } from 'vue'

defineProps({
  msg: String,
})

const count = ref(0)
</script>

<template>
  <h1>{{ msg }}</h1>

  <div class="card">
    <button type="button" @click="count++">count is {{ count }}</button>
    <p>
      Edit
      <code>components/HelloWorld.vue</code> to test HMR
    </p>
  </div>
  <p>
    Install
    <a href="https://github.com/johnsoncodehk/volar" target="_blank">Volar</a>
    in your IDE for a better DX
  </p>
  <p class="read-the-docs">Click on the Vite and Vue logos to learn more</p>
</template>

<style scoped>
.read-the-docs {
  color: #888;
}
</style>

----SideBar.vue----
<template>
    <el-row class="tac">
      <el-col>
        <el-menu class="el-menu-vertical-demo">
          <el-menu-item index="1">
            <router-link to="/customer" style="text-decoration: none; color: inherit;">
            <el-icon><avatar /></el-icon>
            <span>å•†å®¶ç®¡ç†</span>
          </router-link>
          </el-menu-item>
          <el-menu-item index="2">
            <el-icon><list /></el-icon>
            <span>åˆ›å»ºè®¢å•</span>
          </el-menu-item>
          <el-menu-item index="3">
            <el-icon><Search /></el-icon>
            <span>æŸ¥çœ‹è®¢å•</span>
          </el-menu-item>
          <el-menu-item index="4">
            <el-icon><Printer /></el-icon>
            <span>æ ¸é”€è®¢å•</span>
          </el-menu-item>
          <el-menu-item index="5">
            <router-link to="/datareadme" style="text-decoration: none; color: inherit;">
            <el-icon><Printer /></el-icon>
            <span>æ•°æ®è¯´æ˜</span>
          </router-link>
          </el-menu-item>
        </el-menu>
      </el-col>
    </el-row>
  </template>
  
  <script lang="ts" setup>
  import {
    Avatar,
    List,
    Search,
    Printer,
  } from '@element-plus/icons-vue'
  </script> 

  

<style scoped>
.el-menu-vertical-demo {
  height: 100vh; 
  display: flex; /* ä½¿ç”¨Flexå¸ƒå±€ */
  flex-direction: column; /* å­å…ƒç´ å‚ç›´æ’åˆ— */
}

.el-menu-item {
  flex-grow: 1; /* å¹³åˆ†é«˜åº¦ */
  display: flex; /* ä½¿ç”¨Flexå¸ƒå±€ */
  align-items: center; /* å‚ç›´å±…ä¸­ */
  justify-content: center; /* æ°´å¹³å±…ä¸­ */
  background-color: #f5f5f5; /* é»˜è®¤èƒŒæ™¯è‰² */
}

/* ä¸åŒå±‚æ¬¡çš„ç°è‰² */
.el-menu-item:nth-child(1) {
  background: linear-gradient(180deg, #6D888F, #658689);
}
.el-menu-item:nth-child(2) {
  background: linear-gradient(180deg, #658689, #5F8380);
}
.el-menu-item:nth-child(3) {
  background: linear-gradient(180deg, #5F8380, #5C8077);
}

.el-menu-item:nth-child(4) {
  background: linear-gradient(180deg, #5C8077, #5C7D6C);
}

.el-menu-item:nth-child(5) {
  background: linear-gradient(180deg, #5C7D6C, #578764);
}

.el-menu-item.is-active {
  color: #FFDD00; /* Set text color to black */
  font-weight: bold; /* è®¾ç½®å­—ä½“åŠ ç²— */
}
</style>
                                   

----vite.svg----
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="31.88" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 257"><defs><linearGradient id="IconifyId1813088fe1fbc01fb466" x1="-.828%" x2="57.636%" y1="7.652%" y2="78.411%"><stop offset="0%" stop-color="#41D1FF"></stop><stop offset="100%" stop-color="#BD34FE"></stop></linearGradient><linearGradient id="IconifyId1813088fe1fbc01fb467" x1="43.376%" x2="50.316%" y1="2.242%" y2="89.03%"><stop offset="0%" stop-color="#FFEA83"></stop><stop offset="8.333%" stop-color="#FFDD35"></stop><stop offset="100%" stop-color="#FFA800"></stop></linearGradient></defs><path fill="url(#IconifyId1813088fe1fbc01fb466)" d="M255.153 37.938L134.897 252.976c-2.483 4.44-8.862 4.466-11.382.048L.875 37.958c-2.746-4.814 1.371-10.646 6.827-9.67l120.385 21.517a6.537 6.537 0 0 0 2.322-.004l117.867-21.483c5.438-.991 9.574 4.796 6.877 9.62Z"></path><path fill="url(#IconifyId1813088fe1fbc01fb467)" d="M185.432.063L96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z"></path></svg>
----vue.svg----
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="37.07" height="36" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 198"><path fill="#41B883" d="M204.8 0H256L128 220.8L0 0h97.92L128 51.2L157.44 0h47.36Z"></path><path fill="#41B883" d="m0 0l128 220.8L256 0h-51.2L128 132.48L50.56 0H0Z"></path><path fill="#35495E" d="M50.56 0L128 133.12L204.8 0h-47.36L128 51.2L97.92 0H50.56Z"></path></svg>
----index.ts----
import { createRouter, createWebHistory } from 'vue-router'
import Home from '../views/Home.vue'
import About from '../views/About.vue'
import Customer from '../views/Customer.vue'
import DataReadMe from '../views/DataReadMe.vue'

const routes = [
  { path: '/', component: Home },
  { path: '/about', component: About },
  {
    path: '/customer', // ä½ å¸Œæœ›ç”¨äºå¯¼èˆªåˆ° Customer ç»„ä»¶çš„è·¯å¾„
    name: 'Customer',
    component: Customer
  },
  {
    path: '/datareadme', // ä½ å¸Œæœ›ç”¨äºå¯¼èˆªåˆ° DataReadMe ç»„ä»¶çš„è·¯å¾„
    name: 'DataReadMe',
    component: DataReadMe
  }
]

const router = createRouter({
  history: createWebHistory(),
  routes,
})

export default router
----index.ts----
import { defineStore } from 'pinia'

export const useMainStore = defineStore('main', {
  // state, actions, and getters
})
----electron.d.ts----
/*
  è¿™ä¸ªæ–‡ä»¶çš„ä¸»è¦ä½œç”¨æ˜¯åœ¨ TypeScript ä¸­å£°æ˜å…¨å±€çš„ window å¯¹è±¡ä¸Šçš„ electronAPI å’Œ electron å±æ€§ï¼Œä»è€Œä½¿æ¸²æŸ“å™¨è¿›ç¨‹èƒ½å¤Ÿä»¥ç±»å‹å®‰å…¨çš„æ–¹å¼è®¿é—® Electron æä¾›çš„ APIã€‚
 * åº”ä¸ main/preload.ts ä¸­çš„ç±»å‹åŒ¹é…ï¼Œä»¥åœ¨æ¸²æŸ“å™¨ä¸­æä¾› TypeScript æ”¯æŒ
 */
export default interface ElectronApi {
  sendMessage: (message: string) => void // å®šä¹‰ä¸€ä¸ªæ–¹æ³•ç”¨äºå‘é€æ¶ˆæ¯
}

declare global {
  interface Window {
    electronAPI: ElectronApi, // åœ¨å…¨å±€ Window å¯¹è±¡ä¸Šå£°æ˜ electronAPIï¼Œå…·æœ‰ ElectronApi æ¥å£
    electron: {
      send: (channel: string, data?: any) => void; // å®šä¹‰ä¸€ä¸ªæ–¹æ³•ç”¨äºå‘é€ IPC æ¶ˆæ¯
      on: (channel: string, func: (...args: any[]) => void) => void; // å®šä¹‰ä¸€ä¸ªæ–¹æ³•ç”¨äºç›‘å¬ IPC æ¶ˆæ¯
    }
  }
}

----shims-vue.d.ts----
//è¿™ä¸ªæ–‡ä»¶çš„ä½œç”¨æ˜¯è®© TypeScript ç†è§£ .vue æ–‡ä»¶çš„å¯¼å…¥ã€‚åœ¨ Vue é¡¹ç›®ä¸­ï¼Œ.vue æ–‡ä»¶æ˜¯å•æ–‡ä»¶ç»„ä»¶ï¼ˆSFCï¼‰ï¼Œè¯¥å£°æ˜æ–‡ä»¶ç¡®ä¿ TypeScript èƒ½å¤Ÿæ­£ç¡®å¤„ç†è¿™äº›æ–‡ä»¶çš„å¯¼å…¥ï¼Œä»è€Œä½¿å¾—ç±»å‹æ£€æŸ¥å’Œè‡ªåŠ¨è¡¥å…¨ç­‰åŠŸèƒ½èƒ½å¤Ÿåœ¨ .vue æ–‡ä»¶ä¸­æ­£å¸¸å·¥ä½œã€‚
//shims" æŒ‡çš„æ˜¯ä¸€ä¸ªå°çš„åº“æˆ–å·¥å…·ï¼Œå…¶ç›®çš„æ˜¯å……å½“ä¸€ä¸ªå…¼å®¹å±‚ï¼Œä½¿æ—§çš„ API èƒ½å¤Ÿä¸æ–°çš„ API ä¸€èµ·ä½¿ç”¨ï¼Œæˆ–ä½¿ä¸åŒçš„è½¯ä»¶ç»„ä»¶èƒ½å¤Ÿä¸€èµ·å·¥ä½œã€‚

// å£°æ˜ä¸€ä¸ªæ¨¡å—ï¼Œç”¨äºå¤„ç†ä»¥ .vue ç»“å°¾çš„æ–‡ä»¶
declare module '*.vue' {
  // ä» vue åŒ…ä¸­å¯¼å…¥ DefineComponent ç±»å‹
  import type { DefineComponent } from 'vue'

  // å®šä¹‰ä¸€ä¸ª component å¸¸é‡ï¼Œå®ƒæ˜¯ä¸€ä¸ª DefineComponent ç±»å‹
  const component: DefineComponent<{}, {}, any>
  // å¯¼å‡ºè¿™ä¸ª component
  export default component
}

----About.vue----
<template>22</template>

<script></script>

<style></style>
----Customer.vue----
<script lang="ts" setup>
import { ref } from 'vue'


/*è®¾ç½®æ— é™æ»šåŠ¨*/
const count = ref(0)
const load = () => {
  count.value += 2
}



/*è®¾ç½®spacerè‡ªåŠ¨å¡«å……ç©ºéš™*/
const fillRatio = ref(30)


/*è®¾ç½®æ·»åŠ å•†å®¶æŒ‰é’®æ ·å¼*/
const buttonStyle = ref({
  background: 'linear-gradient(90deg, #6D888F, #5C7D6C)',
});
</script>


<template>
    <div class="common-layout">
      <el-container>
        <el-header class="custom-header">
          <el-button :style="buttonStyle" class="custom-active-button" type="info">æ–°å¢å®¢æˆ·</el-button>
        </el-header>
        <el-main v-infinite-scroll="load" class="main-content">
            <el-space fill      
            :fill-ratio="fillRatio"
            wrap :size="30" shadow="hover" style="width: 100%">
        <el-card v-for="i in 200" :key="i" class="box-card" style="width: 250px">
        <template #header>
        <div class="card-header">
          <span>å•†æˆ·å</span>
          <el-button class="button" text>ä¿®æ”¹ä¿¡æ¯</el-button>
        </div>
      </template>
      <div v-for="o in 4" :key="o" class="text item">
        {{ 'List item ' + o }}
      </div>
    </el-card>
    </el-space>
    </el-main>
    </el-container>
    </div>
  </template>
  
  <style scoped>
  .common-layout {
    height: 100vh; /* 100%è§†å£é«˜åº¦ */
  }
  
  .custom-header {
    display: flex;
    justify-content: center; /* æ°´å¹³å±…ä¸­ */
    align-items: center; /* å‚ç›´å±…ä¸­ */
    padding: 10px 0px 10px 0px;
    border-bottom: 1px dashed white; /* ä¸‹è¾¹ç•Œçš„ç™½è‰²è™šçº¿ */
    height: calc(100% - 20px); /* é«˜åº¦å‡å»ä¸Šä¸‹å†…è¾¹è· */
  }
  
  .el-header .el-button {
    width: calc(100% - 20px); /* å®½åº¦ä¸ºheaderå®½åº¦å‡å»å·¦å³çš„å†…è¾¹è· */
    height: calc(100% - 20px); /* é«˜åº¦ä¸ºheaderé«˜åº¦å‡å»ä¸Šä¸‹çš„å†…è¾¹è· */
    text-align: center; /* æ–‡å­—æ°´å¹³å±…ä¸­ */
    font-size: 30px; /* æ–‡å­—å¤§å°éšç€å®½åº¦ç­‰æ¯”ä¾‹å˜åŒ– */
    padding: 10px; /* å†…è¾¹è· */
    box-sizing: border-box; /* ä½¿paddingåŒ…å«åœ¨å®½é«˜è®¡ç®—å†… */
  }

  .card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

  .main-content {
  overflow: hidden;
}

.custom-active-button{
  color: '#FFDD00', /* è®¾ç½®æ–‡æœ¬é¢œè‰²ä¸ºç™½è‰²*/
}

.custom-active-button:active {
  color: #FFDD00; /* é»„è‰²æ–‡æœ¬ */
  font-weight: bold; /* åŠ ç²—å­—ä½“ */
}
  </style>
----DataReadMe.vue----
<script setup lang="ts">
import { ref, onMounted } from 'vue';

const content = ref<string>('');
const isReadOnly = ref<boolean>(true);

onMounted(() => {
  window.electron.send('read-file');
  window.electron.on('file-content', (data) => {
    content.value = data;
  });
});


const toggleEdit = () => {
  isReadOnly.value = !isReadOnly.value;
};

const submitChanges = () => {
  window.electron.send('write-file', content.value);
  isReadOnly.value = true;
};
</script>


<template>
    <el-row class="centered-row">
      <el-button type="primary" @click="toggleEdit">ç¼–è¾‘</el-button>
      <el-button type="success" @click="submitChanges">æäº¤</el-button>
    </el-row>
  
    <el-divider style="margin-top: 0px;"/>
  
    <el-row>
      <textarea class="full-width-textarea" v-model="content" :readonly="isReadOnly" cols="30" rows="10"></textarea>
    </el-row>
  </template>
  
  <style scoped>
  .centered-row {
    display: flex;
    justify-content: center; /* æ°´å¹³å±…ä¸­ */
    align-items: center; /* å‚ç›´å±…ä¸­ */
    height: 50px; /* è®¾ç½®ä¸€ä¸ªå›ºå®šé«˜åº¦ */
  }
  
  .full-width-textarea {
    width: 100%; /* å®½åº¦å¡«å……æ»¡å®¹å™¨ */
    box-sizing: border-box; /* è¾¹æ¡†å’Œå†…è¾¹è·çš„ç©ºé—´åŒ…å«åœ¨å®½åº¦å†… */
  }
  </style>
  
----Home.vue----
<template>22</template>

<script></script>

<style></style>